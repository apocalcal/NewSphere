# 1. 서버 포트 설정
server:
  port: 8082
  forward-headers-strategy: framework

# 2. Eureka 클라이언트 설정
eureka:
  client:
    service-url:
      defaultZone: http://discovery-service:8761/eureka/
  instance:
    prefer-ip-address: true

# 3. Actuator 엔드포인트 노출 설정
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics

# 5. 로깅 레벨 설정
logging:
  level:
    com.newnormallist.newsservice: DEBUG
    org.springframework.security: WARN

# 5. Swagger(OpenAPI) 기본 설정
springdoc:
  forward-headers-enabled: true # 게이트웨이에서 전달된 헤더를 사용
  api-docs:
    enabled: true # /v3/api-docs 활성화
    path: /news-api-docs # 문서 JSON 경로
  swagger-ui:
    enabled: true # Swagger UI 활성화
    path: /swagger-ui # UI 접속 경로(예: http://localhost:8082/swagger-ui)
    display-request-duration: true
    operations-sorter: method # 메서드명 순 정렬(get/post/…)
    tags-sorter: alpha # 태그 알파벳 정렬
  # 통합 SwaggerConfig 사용으로 스캔 범위 제한 제거
  packages-to-scan: com.newnormallist.newsservice
  paths-to-match: /api/**

# 7. 추천 시스템 설정
reco:
  quotas: [9, 7, 5] # 상위 3개 카테고리에서 각각 가져올 뉴스 수
  read-threshold: 10 # 조회 수 임계값
  scrap-threshold: 10 # 스크랩 수 임계값
  read-half-life-days: 3.0 # 조회 기록 반감기 (일)
  scrap-half-life-days: 10.0 # 스크랩 기록 반감기 (일)

  # 케이스별 기본 가중치 (정규화 전)
  case1-demo: 0.30
  case1-pref: 0.70
  case1-read: 0.0
  case1-scrap: 0.0

  case2-demo: 0.20
  case2-pref: 0.50
  case2-read: 0.30
  case2-scrap: 0.0

  case3-demo: 0.20
  case3-pref: 0.45
  case3-read: 0.0
  case3-scrap: 0.35

  case4-demo: 0.15
  case4-pref: 0.30
  case4-read: 0.30
  case4-scrap: 0.25

# # 8. 스케줄러 설정
# scheduling:
#   vector-update:
#     daily-cron: '0 0 2 * * ?' # 매일 새벽 2시
#     hourly-cron: '0 0 * * * ?' # 매시간 정각\
app:
  gateway-url: http://localhost:8000 # 게이트웨이 URL (개발/테스트용)
